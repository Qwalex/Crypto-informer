@echo off
REM –°–∫—Ä–∏–ø—Ç –ø–æ–ª–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –∫—Ä–∏–ø—Ç–æ–±–æ—Ç–∞ –¥–ª—è Windows
REM –ê–≤—Ç–æ—Ä: –ö—Ä–∏–ø—Ç–æ–±–æ—Ç –°–∏—Å—Ç–µ–º–∞

echo üöÄ –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã –∫—Ä–∏–ø—Ç–æ–±–æ—Ç–∞...
echo ================================

REM –ü—Ä–æ–≤–µ—Ä–∫–∞ Docker
echo üê≥ –ü—Ä–æ–≤–µ—Ä–∫–∞ Docker...
docker info >nul 2>&1
if %errorlevel% neq 0 (
    echo ‚ùå Docker –Ω–µ –∑–∞–ø—É—â–µ–Ω!
    pause
    exit /b 1
)

echo ‚úÖ Docker —Ä–∞–±–æ—Ç–∞–µ—Ç

REM –ó–∞–ø—É—Å–∫ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
echo.
echo üîÑ –ó–∞–ø—É—Å–∫ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤...
call npm run docker:up

timeout /t 5 /nobreak >nul

REM –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
echo.
echo üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤...
docker-compose ps

REM –ö–æ–º–ø–∏–ª—è—Ü–∏—è TypeScript
echo.
echo üî® –ö–æ–º–ø–∏–ª—è—Ü–∏—è TypeScript...
call npm run build

if %errorlevel% neq 0 (
    echo ‚ùå –û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏!
    pause
    exit /b 1
)

echo ‚úÖ –ö–æ–º–ø–∏–ª—è—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞

REM –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–ø—É—Å–∫–µ
echo.
echo üöÄ –ó–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è...
echo üìä –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –Ω–∞: http://localhost:3003/admin
echo üìà –î–∞—à–±–æ—Ä–¥ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ —Ñ–∞–π–ª–µ: dashboard.html
echo üéõÔ∏è –°–∏—Å—Ç–µ–º–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä: npm run monitor
echo.
echo –î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞–∂–º–∏—Ç–µ Ctrl+C
echo.

REM –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
call npm run dev

pause
